window.addEventListener("load", function() {
  // Полный объект с данными по всем регионам
const regionData = {
  // Центральный ФО
  "Москва": 250,
  "Московская область": 200,
  "Белгородская область": 60,
  "Брянская область": 30,
  "Владимирская область": 70,
  "Воронежская область": 120,
  "Ивановская область": 30,
  "Калужская область": 50,
  "Костромская область": 70,
  "Курская область": 60,
  "Липецкая область": 70,
  "Орловская область": 50,
  "Рязанская область": 100,
  "Смоленская область": 60,
  "Тамбовская область": 60,
  "Тверская область": 70,
  "Тульская область": 40,
  "Ярославская область": 120,
  
  // Северо-Западный ФО
  "Санкт-Петербург": 200,
  "Ленинградская область": 150,
  "Архангельская область": 60,
  "Вологодская область": 60,
  "Калининградская область": 70,
  "Республика Карелия": 70,
  "Республика Коми": 50,
  "Мурманская область": 80,
  "Ненецкий автономный округ": 20,
  "Новгородская область": 60,
  "Псковская область": 60,
  
  // Южный ФО и новые территории
  "Республика Крым": 30,
  "Херсонская область": 3,
  "Запорожская область": 3,
  "Донецкая Народная Республика": 3,
  "Луганская Народная Республика": 3,
  "Республика Адыгея": 20,
  "Астраханская область": 90,
  "Волгоградская область": 120,
  "Республика Калмыкия": 10,
  "Краснодарский край": 160,
  "Ростовская область": 150,
  "Севастополь": 30,
  
  // Северо-Кавказский ФО
  "Республика Дагестан": 40,
  "Республика Ингушетия": 3,
  "Кабардино-Балкарская Республика": 40,
  "Карачаево-Черкесская Республика": 10,
  "Республика Северная Осетия — Алания": 50,
  "Чеченская Республика": 50,
  "Ставропольский край": 60,
  
  // Приволжский ФО
  "Республика Башкортостан": 130,
  "Кировская область": 40,
  "Республика Марий Эл": 40,
  "Республика Мордовия": 30,
  "Нижегородская область": 160,
  "Оренбургская область": 80,
  "Пензенская область": 70,
  "Пермский край": 130,
  "Самарская область": 150,
  "Саратовская область": 70,
  "Республика Татарстан": 170,
  "Удмуртская Республика": 130,
  "Ульяновская область": 80,
  "Чувашская Республика": 40,
  
  // Уральский ФО
  "Курганская область": 30,
  "Свердловская область": 150,
  "Тюменская область": 100,
  "Ханты-Мансийский автономный округ — Югра": 90,
  "Челябинская область": 150,
  "Ямало-Ненецкий автономный округ": 30,
  
  // Сибирский ФО
  "Алтайский край": 80,
  "Республика Алтай": 20,
  "Республика Бурятия": 50,
  "Забайкальский край": 30,
  "Иркутская область": 80,
  "Кемеровская область - Кузбасс": 90,
  "Красноярский край": 120,
  "Новосибирская область": 140,
  "Омская область": 110,
  "Томская область": 70,
  "Республика Тыва": 10,
  "Республика Хакасия": 50,
  
  // Дальневосточный ФО
  "Амурская область": 30,
  "Еврейская автономная область": 10,
  "Камчатский край": 10,
  "Магаданская область": 20,
  "Приморский край": 60,
  "Сахалинская область": 20,
  "Хабаровский край": 60,
  "Чукотский автономный округ": 10,
  "Республика Саха (Якутия)": 20
};



  const mapObject = document.querySelector("#map");
  const svg = mapObject.contentDocument;
  const states = svg.querySelectorAll(".state");

  const tooltip = document.getElementById('region-tooltip');
  const regionNameElement = document.getElementById('region-name');
  const regionAreaElement = document.getElementById('region-area');

  // Для десктопов
  const handleMouseEnter = function(e) {
    const regionName = this.getAttribute('data-title');
    const checksCount = regionData[regionName] || 0;
    
    regionNameElement.textContent = regionName;
    regionAreaElement.textContent = checksCount;
    
    // Позиционирование tooltip
    if (window.innerWidth > 768) {
      tooltip.style.left = (e.clientX + 15) + 'px';
      tooltip.style.top = (e.clientY + 15) + 'px';
    }
    
    tooltip.classList.add('visible');
  };

  // Для мобильных устройств
  const handleClick = function(e) {
    if (window.innerWidth <= 768) {
      handleMouseEnter.call(this, e);
      e.preventDefault(); // Предотвращаем другие события
    }
  };

  states.forEach((state) => {
    // Инициализация стиля
    state.style.fill = '#352822';
    state.style.transition = 'fill 0.1s ease';

    state.addEventListener("mouseenter", function() {
      const regionName = this.getAttribute('data-title');
      
      // Устанавливаем данные в интерфейс
      document.querySelector("#region-name").textContent = regionName;
      document.querySelector("#region-area").textContent = regionData[regionName] || 0;
      
      // Изменяем цвет
      this.style.fill = '#b74300';

      
    });

    state.addEventListener("mouseleave", function() {
      this.style.fill = '#e25a02';
    });

    state.addEventListener("mouseenter", handleMouseEnter);
    state.addEventListener("click", handleClick);
    state.addEventListener("mouseleave", () => {
      tooltip.classList.remove('visible');
  });
  });
});